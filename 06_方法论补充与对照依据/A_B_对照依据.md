# A_B_对照依据：引入 A vs B 与以 B 为 Anchor 的论证

本文回答两个问题：

- 为什么需要显式的 A/B 对照
- 为什么后续的 long、weak、conflict 等微扰以 B 为基准

---

## 1. A 与 B 的最小差分定义

A/B 的差分仅围绕一个核心轴展开：结构化与约束强度。

- Prompt A：自然语言写法、弱结构约束
- Prompt B：显式字段、顺序要求、禁止项等硬约束

控制原则：
- 不引入新的任务内容
- 不改变题集、模型参数与 judge 协议
- 差异主要体现在输出结构的可执行性与可验证性

审计入口：`02_提示词版本/PROMPT_MANIFEST.md`

---

## 2. 引入 A/B 对照的必要性

缺少 A/B 对照会导致 drift 的参照系不明确：

- 格式崩坏是模型能力问题，还是 prompt 结构表达不足
- 后续微扰的退化相对于何种基线定义
- invalid 占比上升是微扰导致，还是基线本身不可评测

A/B 对照提供最基本的坐标系：
- A 代表弱约束的自然交互场景
- B 代表可评测的结构化锚点

---

## 3. 以 B 作为 Anchor 的选择标准

### 3.1 可评测性

当输出结构稳定性不足时，样本更容易进入 invalid 集合，统计被格式噪声主导。B 的约束设计用于提高可评测样本比例，使评测更多聚焦在指令遵循与语义偏离。

### 3.2 微扰空间可解释

以 B 为 anchor，微扰可以被解释为对同一约束体系的定向扰动：

- weak：降低结构与硬约束强度
- long：增加上下文负担并引入干扰
- conflict：引入指令张力检验优先级处理

### 3.3 跨模型可比性

结构更稳定时，不同 judge 模型更容易对齐评分对象，降低因格式噪声产生的评测偏差。

---

## 4. 证据链的组织方式

建议按以下顺序建立证据链：

1) 从 `04_实验结果/summary.csv` 定位 A 与 B 在 hard compliance、invalid rate 等指标上的差异
2) 抽样回看对应 PDF，确认差异来自结构遵循而非偶然内容波动
3) 查看 judge JSON，核对 invalid 判定与评分理由是否符合协议
4) 再分析基于 B 的 weak、long、conflict，验证相对退化方向与失败模式映射一致

---

## 5. 局限与风险控制

- A/B 可能仍包含长度与语气的次要差分，需要通过控制实验或消融降低影响
- 不同模型对结构指令的可执行性不同，anchor 的最优选择可能随模型变化
- 自动 judge 可能存在结构偏好，需要通过互评、自评、人工抽检或 judge 互换降低偏置

